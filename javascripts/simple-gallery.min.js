/*
 * simple-gallery.js - v2.3.1
 * Author: Alex Kalicki (https://github.com/akalicki)
 *
 * simple-gallery.js is a lightweight jQuery extension for quickly creating
 * highly customizable photo galleries using standard jQuery notation.
 *
 * All work contained in this file is licensed under a Creative Commons Attribution 3.0
 * Unported License.  Please contact the copyright holder with further questions.
*/
(function(c,d,e,f){c.widget("ak.gallery",{options:{source:"",animate:!0,startImg:0,waitTime:5E3,changeTime:700,easing:"swing",restartOnEnd:!0,selectClass:"selected",showCaptions:!1,captionTarget:""},_create:function(){this.images=c(this.options.source);this.nextImg=this.options.startImg;this.cycle;this.element.css({"background-repeat":"no-repeat","background-position":"center",opacity:0});this.images.css("opacity",0);this.images.animate({opacity:1},this.options.changeTime,this.options.easing);this.images.on("click.gallery",
c.proxy(this._onClick,this));this._loadNext()},_destroy:function(){this.element.css({"background-repeat":"repeat","background-position":"0% 0%",opacity:1});this.images.off("click.gallery");this._super()},_setOption:function(a,b){this.options[a]=b},_loadNext:function(){this.nextImg<this.images.length?this._changeToImg(this.nextImg):this.options.restartOnEnd&&(this.nextImg=0,this._changeToImg(this.nextImg))},_changeToImg:function(a){var b=this;b.element.clearQueue();b._startTransition();b.element.queue(function(c){b._selectImg(a);
c()});b._endTransition();b.options.animate&&b.element.queue(function(a){b.cycle=d.setTimeout(function(){b._loadNext()},b.options.waitTime);a()})},_selectImg:function(a){var b=this.images.get(a);this.element.css("background-image","url("+b.src+")");c("."+this.options.selectClass).removeClass(this.options.selectClass);b.className+=this.options.selectClass;this.nextImg=a+1;this.options.showCaptions&&(a=b.title,c(this.options.captionTarget).html(a))},_startTransition:function(){this.element.animate({opacity:0},
this.options.changeTime,this.options.easing);this.options.showCaptions&&c(this.options.captionTarget).animate({opacity:0},this.options.changeTime,this.options.easing)},_endTransition:function(){this.element.animate({opacity:1},this.options.changeTime,this.options.easing);this.options.showCaptions&&c(this.options.captionTarget).animate({opacity:1},this.options.changeTime,this.options.easing)},_onClick:function(a){d.clearTimeout(this.cycle);this.element.stop(!0);this.nextImg=this.images.index(c(a.target));
this._changeToImg(this.nextImg)},stopAnimation:function(){this.options.animate=!1;d.clearTimeout(this.cycle);this.element.stop(!0);this.options.showCaptions&&c(this.options.captionTarget).stop(!0);this._endTransition()},resumeAnimation:function(){var a=this;a.options.animate=!0;a.cycle=d.setTimeout(function(){a._loadNext()},a.options.waitTime)}})})(jQuery,window,document);